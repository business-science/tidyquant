<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Excel Date and Time Functions — excel_date_functions • tidyquant</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Excel Date and Time Functions — excel_date_functions" />
<meta property="og:description" content="50+ date and time functions familiar to users coming from an Excel Background.
The main benefits are:
Integration of the amazing lubridate package for handling dates and times
Integration of Holidays from timeDate and Business Calendars
New Date Math and Date Sequence Functions that factor in Business Calendars (e.g. EOMONTH(), NET_WORKDAYS())


These functions are designed to help users coming from an Excel background.
Most functions replicate the behavior of Excel:
Names in most cases match Excel function names
Functionality replicates Excel
By default, missing values are ignored (same as in Excel)

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyquant</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/TQ06-excel-in-r.html">NEW: Excel in R</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Financial Workflow</li>
    <li>
      <a href="../articles/TQ00-introduction-to-tidyquant.html">Introduction to tidyquant</a>
    </li>
    <li>
      <a href="../articles/TQ01-core-functions-in-tidyquant.html">Core functions</a>
    </li>
    <li>
      <a href="../articles/TQ02-quant-integrations-in-tidyquant.html">Quantitative integrations</a>
    </li>
    <li>
      <a href="../articles/TQ03-scaling-and-modeling-with-tidyquant.html">Scaling and modeling</a>
    </li>
    <li>
      <a href="../articles/TQ04-charting-with-tidyquant.html">Charting</a>
    </li>
    <li>
      <a href="../articles/TQ05-performance-analysis-with-tidyquant.html">Performance analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/business-science/tidyquant">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Excel Date and Time Functions</h1>
    <small class="dont-index">Source: <a href='https://github.com/business-science/tidyquant/blob/master/R/excel-date-functions.R'><code>R/excel-date-functions.R</code></a></small>
    <div class="hidden name"><code>excel_date_functions.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>50+ date and time functions familiar to users coming from an <strong>Excel Background.</strong>
The main benefits are:</p><ol>
<li><p>Integration of the amazing <code>lubridate</code> package for handling dates and times</p></li>
<li><p>Integration of Holidays from <code>timeDate</code> and Business Calendars</p></li>
<li><p>New Date Math and Date Sequence Functions that factor in Business Calendars (e.g. <code>EOMONTH()</code>, <code>NET_WORKDAYS()</code>)</p></li>
</ol>

<p>These functions are designed to help users coming from an <strong>Excel background</strong>.
Most functions replicate the behavior of Excel:</p><ul>
<li><p>Names in most cases match Excel function names</p></li>
<li><p>Functionality replicates Excel</p></li>
<li><p>By default, missing values are ignored (same as in Excel)</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>AS_DATE</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>AS_DATETIME</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DATE</span><span class='op'>(</span><span class='va'>year</span>, <span class='va'>month</span>, <span class='va'>day</span><span class='op'>)</span>

<span class='fu'>DATEVALUE</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>YMD</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>MDY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DMY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>YMD_HMS</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>MDY_HMS</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DMY_HMS</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>YMD_HM</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>MDY_HM</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DMY_HM</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>YMD_H</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>MDY_H</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DMY_H</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>WEEKDAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, label <span class='op'>=</span> <span class='cn'>FALSE</span>, abbr <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>WDAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, label <span class='op'>=</span> <span class='cn'>FALSE</span>, abbr <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>DOW</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, label <span class='op'>=</span> <span class='cn'>FALSE</span>, abbr <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>MONTHDAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>MDAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DOM</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>QUARTERDAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>QDAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>WEEKNUM</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>WEEK</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>WEEKNUM_ISO</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>MONTH</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, label <span class='op'>=</span> <span class='cn'>FALSE</span>, abbr <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>QUARTER</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, include_year <span class='op'>=</span> <span class='cn'>FALSE</span>, fiscal_start <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='fu'>YEAR</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>YEAR_ISO</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DATE_TO_NUMERIC</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>DATE_TO_DECIMAL</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>SECOND</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>MINUTE</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>HOUR</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>NOW</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>

<span class='fu'>TODAY</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>

<span class='fu'>EOMONTH</span><span class='op'>(</span><span class='va'>start_date</span>, months <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>

<span class='fu'>EDATE</span><span class='op'>(</span><span class='va'>start_date</span>, months <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>

<span class='fu'>NET_WORKDAYS</span><span class='op'>(</span><span class='va'>start_date</span>, <span class='va'>end_date</span>, remove_weekends <span class='op'>=</span> <span class='cn'>TRUE</span>, holidays <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>COUNT_DAYS</span><span class='op'>(</span><span class='va'>start_date</span>, <span class='va'>end_date</span><span class='op'>)</span>

<span class='fu'>YEARFRAC</span><span class='op'>(</span><span class='va'>start_date</span>, <span class='va'>end_date</span><span class='op'>)</span>

<span class='fu'>DATE_SEQUENCE</span><span class='op'>(</span><span class='va'>start_date</span>, <span class='va'>end_date</span>, by <span class='op'>=</span> <span class='st'>"day"</span><span class='op'>)</span>

<span class='fu'>WORKDAY_SEQUENCE</span><span class='op'>(</span><span class='va'>start_date</span>, <span class='va'>end_date</span>, remove_weekends <span class='op'>=</span> <span class='cn'>TRUE</span>, holidays <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>HOLIDAY_SEQUENCE</span><span class='op'>(</span>
  <span class='va'>start_date</span>,
  <span class='va'>end_date</span>,
  calendar <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"NYSE"</span>, <span class='st'>"LONDON"</span>, <span class='st'>"NERC"</span>, <span class='st'>"TSX"</span>, <span class='st'>"ZURICH"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>HOLIDAY_TABLE</span><span class='op'>(</span><span class='va'>years</span>, pattern <span class='op'>=</span> <span class='st'>"."</span><span class='op'>)</span>

<span class='fu'>FLOOR_DATE</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, by <span class='op'>=</span> <span class='st'>"day"</span><span class='op'>)</span>

<span class='fu'>FLOOR_DAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>FLOOR_WEEK</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>FLOOR_MONTH</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>FLOOR_QUARTER</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>FLOOR_YEAR</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>CEILING_DATE</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, by <span class='op'>=</span> <span class='st'>"day"</span><span class='op'>)</span>

<span class='fu'>CEILING_DAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>CEILING_WEEK</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>CEILING_MONTH</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>CEILING_QUARTER</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>CEILING_YEAR</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>ROUND_DATE</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span>, by <span class='op'>=</span> <span class='st'>"day"</span><span class='op'>)</span>

<span class='fu'>ROUND_DAY</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>ROUND_WEEK</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>ROUND_MONTH</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>ROUND_QUARTER</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>ROUND_YEAR</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A vector of date or date-time objects</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Parameters passed to underlying <code>lubridate</code> functions.</p></td>
    </tr>
    <tr>
      <th>year</th>
      <td><p>Used in <code>DATE()</code></p></td>
    </tr>
    <tr>
      <th>month</th>
      <td><p>Used in <code>DATE()</code></p></td>
    </tr>
    <tr>
      <th>day</th>
      <td><p>Used in <code>DATE()</code></p></td>
    </tr>
    <tr>
      <th>label</th>
      <td><p>A logical used for <code>MONTH()</code> and <code>WEEKDAY()</code> Date Extractors to decide whether or not to return names
(as ordered factors) or numeric values.</p></td>
    </tr>
    <tr>
      <th>abbr</th>
      <td><p>A logical used for <code>MONTH()</code> and <code>WEEKDAY()</code>. If <code>label = TRUE</code>, used to determine if
full names (e.g. Wednesday) or abbreviated names (e.g. Wed) should be returned.</p></td>
    </tr>
    <tr>
      <th>include_year</th>
      <td><p>A logicial value used in <code>QUARTER()</code>. Determines whether or not to return 2020 Q3 as <code>3</code> or <code>2020.3</code>.</p></td>
    </tr>
    <tr>
      <th>fiscal_start</th>
      <td><p>A numeric value used in <code>QUARTER()</code>. Determines the fiscal-year starting quarter.</p></td>
    </tr>
    <tr>
      <th>start_date</th>
      <td><p>Used in Date Math and Date Sequence operations. The starting date in the calculation.</p></td>
    </tr>
    <tr>
      <th>months</th>
      <td><p>Used to offset months in <code>EOMONTH()</code> AND <code>EDATE()</code> Date Math calculations</p></td>
    </tr>
    <tr>
      <th>end_date</th>
      <td><p>Used in Date Math and Date Sequence operations. The ending date in the calculation.</p></td>
    </tr>
    <tr>
      <th>remove_weekends</th>
      <td><p>A logical value used in Date Sequence and Date Math calculations.
Indicates whether or not weekends should be removed from the calculation.</p></td>
    </tr>
    <tr>
      <th>holidays</th>
      <td><p>A vector of dates corresponding to holidays that should be removed from the calculation.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>Used to determine the gap in Date Sequence calculations and value to round to in Date Collapsing operations.
Acceptable values are: A character string, containing one of <code>"day"</code>, <code>"week"</code>, <code>"month"</code>, <code>"quarter"</code> or <code>"year"</code>.</p></td>
    </tr>
    <tr>
      <th>calendar</th>
      <td><p>The calendar to be used in Date Sequence calculations for Holidays from the <code>timeDate</code> package.
Acceptable values are: <code>"NYSE"</code>, <code>"LONDON"</code>, <code>"NERC"</code>, <code>"TSX"</code>, <code>"ZURICH"</code></p></td>
    </tr>
    <tr>
      <th>years</th>
      <td><p>A numeric vector of years to return Holidays for in <code>HOLIDAY_TABLE()</code></p></td>
    </tr>
    <tr>
      <th>pattern</th>
      <td><p>Used to filter Holidays (e.g. <code>pattern = "Easter"</code>). A "regular expression" filtering pattern.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    
<ul>
<li><p><strong>Converters</strong> - Date or date-time object the length of x</p></li>
<li><p><strong>Extractors</strong> - Returns information from a time-stamp.</p></li>
<li><p><strong>Current Time</strong> - Returns the current date/date-time based on your locale.</p></li>
<li><p><strong>Date Math</strong> - Numeric values or Date Values depending on the calculation.</p></li>
<li><p><strong>Date Sequences</strong> - Return a vector of dates or a Holiday Table (<code>tibble</code>).</p></li>
<li><p><strong>Date Collapsers</strong> - Date or date-time object the length of x</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>Converters</strong> - Make date and date-time from text (character data)</p><ul>
<li><p>General String-to-Date Conversion: <code>AS_DATE()</code>, <code>AS_DATETIME()</code></p></li>
<li><p>Format-Specific String-to-Date Conversion: <code>YMD()</code> (YYYY-MM-DD), <code>MDY()</code> (MM-DD-YYYY), <code>DMY()</code> (DD-MM-YYYY)</p></li>
<li><p>Hour-Minute-Second Conversion: <code>YMD_HMS()</code>, <code>YMD_HM()</code>, and friends.</p></li>
</ul>

<p><strong>Extractors</strong> - Returns information from a time-stamp.</p><ul>
<li><p>Extractors: <code>SECOND()</code>, <code>MINUTE()</code>, <code>HOUR()</code>, <code>DAY()</code>, <code>WEEK()</code>, <code>MONTH()</code>, <code>QUARTER()</code>, <code>YEAR()</code></p></li>
</ul>

<p><strong>Current Time</strong> - Returns the current date/date-time based on your locale.</p><ul>
<li><p><code>NOW()</code>, <code>TODAY()</code></p></li>
</ul>

<p><strong>Date Math</strong> - Perform popular Excel date calculations</p><ul>
<li><p><code>EOMONTH()</code> - End of Month</p></li>
<li><p><code>NET_WORKDAYS()</code>, <code>COUNT_DAYS()</code> - Return number of days between 2 dates factoring in working days and holidays</p></li>
<li><p><code>YEARFRAC()</code> - Return the fractional period of the year that has been completed between 2 dates.</p></li>
</ul>

<p><strong>Date Sequences</strong> - Return a vector of dates or a Holiday Table (<code>tibble</code>).</p><ul>
<li><p><code>DATE_SEQUENCE()</code>, <code>WORKDAY_SEQUENCE()</code>, HOLIDAY_SEQUENCE - Return a sequence of dates between 2 dates that
factor in workdays and <code>timeDate</code> holiday calendars for popular business calendars including NYSE and London stock exchange.</p></li>
</ul>

<p><strong>Date Collapsers</strong> - Collapse a date sequence (useful in <code><a href='https://dplyr.tidyverse.org/reference/group_by.html'>dplyr::group_by()</a></code> and <code><a href='excel_pivot_table.html'>pivot_table()</a></code>)</p><ul>
<li><p><code>FLOOR_DATE()</code>, <code>FLOOR_DAY()</code>, <code>FLOOR_WEEK()</code>, <code>FLOOR_MONTH()</code>, <code>FLOOR_QUARTER()</code>, <code>FLOOR_YEAR()</code></p></li>
<li><p>Similar functions exist for CEILING and ROUND. These are wrappers for <code>lubridate</code> functions.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Libraries</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/business-science/tidyquant'>tidyquant</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>── <span style='font-weight: bold;'>Attaching packages</span><span> ─────────────────────────────────────── tidyverse 1.3.0 ──</span></div><div class='output co'>#&gt; <span class='message'></span><span style='color: #00BB00;'>✓</span><span> </span><span style='color: #0000BB;'>tibble </span><span> 3.1.0     </span><span style='color: #00BB00;'>✓</span><span> </span><span style='color: #0000BB;'>purrr  </span><span> 0.3.4</span>
#&gt; <span class='message'></span><span style='color: #00BB00;'>✓</span><span> </span><span style='color: #0000BB;'>tidyr  </span><span> 1.1.2     </span><span style='color: #00BB00;'>✓</span><span> </span><span style='color: #0000BB;'>stringr</span><span> 1.4.0</span>
#&gt; <span class='message'></span><span style='color: #00BB00;'>✓</span><span> </span><span style='color: #0000BB;'>readr  </span><span> 1.4.0     </span><span style='color: #00BB00;'>✓</span><span> </span><span style='color: #0000BB;'>forcats</span><span> 0.5.1</span></div><div class='output co'>#&gt; <span class='message'>── </span><span style='font-weight: bold;'>Conflicts</span><span> ────────────────────────────────────────── tidyverse_conflicts() ──</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>lubridate</span><span>::</span><span style='color: #00BB00;'>as.difftime()</span><span> masks </span><span style='color: #0000BB;'>base</span><span>::as.difftime()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>lubridate</span><span>::</span><span style='color: #00BB00;'>date()</span><span>        masks </span><span style='color: #0000BB;'>base</span><span>::date()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>dplyr</span><span>::</span><span style='color: #00BB00;'>filter()</span><span>          masks </span><span style='color: #0000BB;'>stats</span><span>::filter()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>dplyr</span><span>::</span><span style='color: #00BB00;'>first()</span><span>           masks </span><span style='color: #0000BB;'>xts</span><span>::first()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>lubridate</span><span>::</span><span style='color: #00BB00;'>intersect()</span><span>   masks </span><span style='color: #0000BB;'>base</span><span>::intersect()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>dplyr</span><span>::</span><span style='color: #00BB00;'>lag()</span><span>             masks </span><span style='color: #0000BB;'>stats</span><span>::lag()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>dplyr</span><span>::</span><span style='color: #00BB00;'>last()</span><span>            masks </span><span style='color: #0000BB;'>xts</span><span>::last()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>lubridate</span><span>::</span><span style='color: #00BB00;'>setdiff()</span><span>     masks </span><span style='color: #0000BB;'>base</span><span>::setdiff()</span>
#&gt; <span class='message'></span><span style='color: #BB0000;'>x</span><span> </span><span style='color: #0000BB;'>lubridate</span><span>::</span><span style='color: #00BB00;'>union()</span><span>       masks </span><span style='color: #0000BB;'>base</span><span>::union()</span></div><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://lubridate.tidyverse.org'>lubridate</a></span><span class='op'>)</span>

<span class='co'># --- Basic Usage ----</span>

<span class='co'># Converters ---</span>
<span class='fu'>AS_DATE</span><span class='op'>(</span><span class='st'>"2011 Jan-01"</span><span class='op'>)</span> <span class='co'># General</span>
</div><div class='output co'>#&gt; [1] "2011-01-01"</div><div class='input'><span class='fu'>YMD</span><span class='op'>(</span><span class='st'>"2011 Jan-01"</span><span class='op'>)</span>     <span class='co'># Year, Month-Day Format</span>
</div><div class='output co'>#&gt; [1] "2011-01-01"</div><div class='input'><span class='fu'>MDY</span><span class='op'>(</span><span class='st'>"01-02-20"</span><span class='op'>)</span>        <span class='co'># Month-Day, Year Format (January 2nd, 2020)</span>
</div><div class='output co'>#&gt; [1] "2020-01-02"</div><div class='input'><span class='fu'>DMY</span><span class='op'>(</span><span class='st'>"01-02-20"</span><span class='op'>)</span>        <span class='co'># Day-Month, Year Format (February 1st, 2020)</span>
</div><div class='output co'>#&gt; [1] "2020-02-01"</div><div class='input'>
<span class='co'># Extractors ---</span>
<span class='fu'>WEEKDAY</span><span class='op'>(</span><span class='st'>"2020-01-01"</span><span class='op'>)</span>                                  <span class='co'># Labelled Day</span>
</div><div class='output co'>#&gt; [1] 4</div><div class='input'><span class='fu'>WEEKDAY</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, label <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>                   <span class='co'># Numeric Day</span>
</div><div class='output co'>#&gt; [1] 4</div><div class='input'><span class='fu'>WEEKDAY</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, label <span class='op'>=</span> <span class='cn'>FALSE</span>, week_start <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>   <span class='co'># Start at 1 (Monday) vs 7 (Sunday)</span>
</div><div class='output co'>#&gt; [1] 3</div><div class='input'><span class='fu'>MONTH</span><span class='op'>(</span><span class='st'>"2020-01-01"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='fu'>QUARTER</span><span class='op'>(</span><span class='st'>"2020-01-01"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='fu'>YEAR</span><span class='op'>(</span><span class='st'>"2020-01-01"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 2020</div><div class='input'>
<span class='co'># Current Date-Time ---</span>
<span class='fu'>NOW</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2021-03-04 13:44:31 EST"</div><div class='input'><span class='fu'>TODAY</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2021-03-04"</div><div class='input'>
<span class='co'># Date Math ---</span>
<span class='fu'>EOMONTH</span><span class='op'>(</span><span class='st'>"2020-01-01"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2020-01-31"</div><div class='input'><span class='fu'>EOMONTH</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, months <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2020-02-29"</div><div class='input'><span class='fu'>NET_WORKDAYS</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"2020-07-01"</span><span class='op'>)</span> <span class='co'># 131 Skipping Weekends</span>
</div><div class='output co'>#&gt; [1] 131</div><div class='input'><span class='fu'>NET_WORKDAYS</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"2020-07-01"</span>,
             holidays <span class='op'>=</span> <span class='fu'>HOLIDAY_SEQUENCE</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"2020-07-01"</span>,
                                         calendar <span class='op'>=</span> <span class='st'>"NYSE"</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># 126 Skipping 5 NYSE Holidays</span>
</div><div class='output co'>#&gt; [1] 126</div><div class='input'>
<span class='co'># Date Sequences ---</span>
<span class='fu'>DATE_SEQUENCE</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"2020-07-01"</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   [1] "2020-01-01" "2020-01-02" "2020-01-03" "2020-01-04" "2020-01-05"
#&gt;   [6] "2020-01-06" "2020-01-07" "2020-01-08" "2020-01-09" "2020-01-10"
#&gt;  [11] "2020-01-11" "2020-01-12" "2020-01-13" "2020-01-14" "2020-01-15"
#&gt;  [16] "2020-01-16" "2020-01-17" "2020-01-18" "2020-01-19" "2020-01-20"
#&gt;  [21] "2020-01-21" "2020-01-22" "2020-01-23" "2020-01-24" "2020-01-25"
#&gt;  [26] "2020-01-26" "2020-01-27" "2020-01-28" "2020-01-29" "2020-01-30"
#&gt;  [31] "2020-01-31" "2020-02-01" "2020-02-02" "2020-02-03" "2020-02-04"
#&gt;  [36] "2020-02-05" "2020-02-06" "2020-02-07" "2020-02-08" "2020-02-09"
#&gt;  [41] "2020-02-10" "2020-02-11" "2020-02-12" "2020-02-13" "2020-02-14"
#&gt;  [46] "2020-02-15" "2020-02-16" "2020-02-17" "2020-02-18" "2020-02-19"
#&gt;  [51] "2020-02-20" "2020-02-21" "2020-02-22" "2020-02-23" "2020-02-24"
#&gt;  [56] "2020-02-25" "2020-02-26" "2020-02-27" "2020-02-28" "2020-02-29"
#&gt;  [61] "2020-03-01" "2020-03-02" "2020-03-03" "2020-03-04" "2020-03-05"
#&gt;  [66] "2020-03-06" "2020-03-07" "2020-03-08" "2020-03-09" "2020-03-10"
#&gt;  [71] "2020-03-11" "2020-03-12" "2020-03-13" "2020-03-14" "2020-03-15"
#&gt;  [76] "2020-03-16" "2020-03-17" "2020-03-18" "2020-03-19" "2020-03-20"
#&gt;  [81] "2020-03-21" "2020-03-22" "2020-03-23" "2020-03-24" "2020-03-25"
#&gt;  [86] "2020-03-26" "2020-03-27" "2020-03-28" "2020-03-29" "2020-03-30"
#&gt;  [91] "2020-03-31" "2020-04-01" "2020-04-02" "2020-04-03" "2020-04-04"
#&gt;  [96] "2020-04-05" "2020-04-06" "2020-04-07" "2020-04-08" "2020-04-09"
#&gt; [101] "2020-04-10" "2020-04-11" "2020-04-12" "2020-04-13" "2020-04-14"
#&gt; [106] "2020-04-15" "2020-04-16" "2020-04-17" "2020-04-18" "2020-04-19"
#&gt; [111] "2020-04-20" "2020-04-21" "2020-04-22" "2020-04-23" "2020-04-24"
#&gt; [116] "2020-04-25" "2020-04-26" "2020-04-27" "2020-04-28" "2020-04-29"
#&gt; [121] "2020-04-30" "2020-05-01" "2020-05-02" "2020-05-03" "2020-05-04"
#&gt; [126] "2020-05-05" "2020-05-06" "2020-05-07" "2020-05-08" "2020-05-09"
#&gt; [131] "2020-05-10" "2020-05-11" "2020-05-12" "2020-05-13" "2020-05-14"
#&gt; [136] "2020-05-15" "2020-05-16" "2020-05-17" "2020-05-18" "2020-05-19"
#&gt; [141] "2020-05-20" "2020-05-21" "2020-05-22" "2020-05-23" "2020-05-24"
#&gt; [146] "2020-05-25" "2020-05-26" "2020-05-27" "2020-05-28" "2020-05-29"
#&gt; [151] "2020-05-30" "2020-05-31" "2020-06-01" "2020-06-02" "2020-06-03"
#&gt; [156] "2020-06-04" "2020-06-05" "2020-06-06" "2020-06-07" "2020-06-08"
#&gt; [161] "2020-06-09" "2020-06-10" "2020-06-11" "2020-06-12" "2020-06-13"
#&gt; [166] "2020-06-14" "2020-06-15" "2020-06-16" "2020-06-17" "2020-06-18"
#&gt; [171] "2020-06-19" "2020-06-20" "2020-06-21" "2020-06-22" "2020-06-23"
#&gt; [176] "2020-06-24" "2020-06-25" "2020-06-26" "2020-06-27" "2020-06-28"
#&gt; [181] "2020-06-29" "2020-06-30" "2020-07-01"</div><div class='input'><span class='fu'>WORKDAY_SEQUENCE</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"2020-07-01"</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   [1] "2020-01-01" "2020-01-02" "2020-01-03" "2020-01-06" "2020-01-07"
#&gt;   [6] "2020-01-08" "2020-01-09" "2020-01-10" "2020-01-13" "2020-01-14"
#&gt;  [11] "2020-01-15" "2020-01-16" "2020-01-17" "2020-01-20" "2020-01-21"
#&gt;  [16] "2020-01-22" "2020-01-23" "2020-01-24" "2020-01-27" "2020-01-28"
#&gt;  [21] "2020-01-29" "2020-01-30" "2020-01-31" "2020-02-03" "2020-02-04"
#&gt;  [26] "2020-02-05" "2020-02-06" "2020-02-07" "2020-02-10" "2020-02-11"
#&gt;  [31] "2020-02-12" "2020-02-13" "2020-02-14" "2020-02-17" "2020-02-18"
#&gt;  [36] "2020-02-19" "2020-02-20" "2020-02-21" "2020-02-24" "2020-02-25"
#&gt;  [41] "2020-02-26" "2020-02-27" "2020-02-28" "2020-03-02" "2020-03-03"
#&gt;  [46] "2020-03-04" "2020-03-05" "2020-03-06" "2020-03-09" "2020-03-10"
#&gt;  [51] "2020-03-11" "2020-03-12" "2020-03-13" "2020-03-16" "2020-03-17"
#&gt;  [56] "2020-03-18" "2020-03-19" "2020-03-20" "2020-03-23" "2020-03-24"
#&gt;  [61] "2020-03-25" "2020-03-26" "2020-03-27" "2020-03-30" "2020-03-31"
#&gt;  [66] "2020-04-01" "2020-04-02" "2020-04-03" "2020-04-06" "2020-04-07"
#&gt;  [71] "2020-04-08" "2020-04-09" "2020-04-10" "2020-04-13" "2020-04-14"
#&gt;  [76] "2020-04-15" "2020-04-16" "2020-04-17" "2020-04-20" "2020-04-21"
#&gt;  [81] "2020-04-22" "2020-04-23" "2020-04-24" "2020-04-27" "2020-04-28"
#&gt;  [86] "2020-04-29" "2020-04-30" "2020-05-01" "2020-05-04" "2020-05-05"
#&gt;  [91] "2020-05-06" "2020-05-07" "2020-05-08" "2020-05-11" "2020-05-12"
#&gt;  [96] "2020-05-13" "2020-05-14" "2020-05-15" "2020-05-18" "2020-05-19"
#&gt; [101] "2020-05-20" "2020-05-21" "2020-05-22" "2020-05-25" "2020-05-26"
#&gt; [106] "2020-05-27" "2020-05-28" "2020-05-29" "2020-06-01" "2020-06-02"
#&gt; [111] "2020-06-03" "2020-06-04" "2020-06-05" "2020-06-08" "2020-06-09"
#&gt; [116] "2020-06-10" "2020-06-11" "2020-06-12" "2020-06-15" "2020-06-16"
#&gt; [121] "2020-06-17" "2020-06-18" "2020-06-19" "2020-06-22" "2020-06-23"
#&gt; [126] "2020-06-24" "2020-06-25" "2020-06-26" "2020-06-29" "2020-06-30"
#&gt; [131] "2020-07-01"</div><div class='input'><span class='fu'>HOLIDAY_SEQUENCE</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"2020-07-01"</span>, calendar <span class='op'>=</span> <span class='st'>"NYSE"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2020-01-01" "2020-01-20" "2020-02-17" "2020-04-10" "2020-05-25"</div><div class='input'><span class='fu'>WORKDAY_SEQUENCE</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"2020-07-01"</span>,
                 holidays <span class='op'>=</span> <span class='fu'>HOLIDAY_SEQUENCE</span><span class='op'>(</span><span class='st'>"2020-01-01"</span>, <span class='st'>"2020-07-01"</span>,
                                             calendar <span class='op'>=</span> <span class='st'>"NYSE"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   [1] "2020-01-02" "2020-01-03" "2020-01-06" "2020-01-07" "2020-01-08"
#&gt;   [6] "2020-01-09" "2020-01-10" "2020-01-13" "2020-01-14" "2020-01-15"
#&gt;  [11] "2020-01-16" "2020-01-17" "2020-01-21" "2020-01-22" "2020-01-23"
#&gt;  [16] "2020-01-24" "2020-01-27" "2020-01-28" "2020-01-29" "2020-01-30"
#&gt;  [21] "2020-01-31" "2020-02-03" "2020-02-04" "2020-02-05" "2020-02-06"
#&gt;  [26] "2020-02-07" "2020-02-10" "2020-02-11" "2020-02-12" "2020-02-13"
#&gt;  [31] "2020-02-14" "2020-02-18" "2020-02-19" "2020-02-20" "2020-02-21"
#&gt;  [36] "2020-02-24" "2020-02-25" "2020-02-26" "2020-02-27" "2020-02-28"
#&gt;  [41] "2020-03-02" "2020-03-03" "2020-03-04" "2020-03-05" "2020-03-06"
#&gt;  [46] "2020-03-09" "2020-03-10" "2020-03-11" "2020-03-12" "2020-03-13"
#&gt;  [51] "2020-03-16" "2020-03-17" "2020-03-18" "2020-03-19" "2020-03-20"
#&gt;  [56] "2020-03-23" "2020-03-24" "2020-03-25" "2020-03-26" "2020-03-27"
#&gt;  [61] "2020-03-30" "2020-03-31" "2020-04-01" "2020-04-02" "2020-04-03"
#&gt;  [66] "2020-04-06" "2020-04-07" "2020-04-08" "2020-04-09" "2020-04-13"
#&gt;  [71] "2020-04-14" "2020-04-15" "2020-04-16" "2020-04-17" "2020-04-20"
#&gt;  [76] "2020-04-21" "2020-04-22" "2020-04-23" "2020-04-24" "2020-04-27"
#&gt;  [81] "2020-04-28" "2020-04-29" "2020-04-30" "2020-05-01" "2020-05-04"
#&gt;  [86] "2020-05-05" "2020-05-06" "2020-05-07" "2020-05-08" "2020-05-11"
#&gt;  [91] "2020-05-12" "2020-05-13" "2020-05-14" "2020-05-15" "2020-05-18"
#&gt;  [96] "2020-05-19" "2020-05-20" "2020-05-21" "2020-05-22" "2020-05-26"
#&gt; [101] "2020-05-27" "2020-05-28" "2020-05-29" "2020-06-01" "2020-06-02"
#&gt; [106] "2020-06-03" "2020-06-04" "2020-06-05" "2020-06-08" "2020-06-09"
#&gt; [111] "2020-06-10" "2020-06-11" "2020-06-12" "2020-06-15" "2020-06-16"
#&gt; [116] "2020-06-17" "2020-06-18" "2020-06-19" "2020-06-22" "2020-06-23"
#&gt; [121] "2020-06-24" "2020-06-25" "2020-06-26" "2020-06-29" "2020-06-30"
#&gt; [126] "2020-07-01"</div><div class='input'>
<span class='co'># Date Collapsers ---</span>
<span class='fu'>FLOOR_DATE</span><span class='op'>(</span><span class='fu'>AS_DATE</span><span class='op'>(</span><span class='st'>"2020-01-15"</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"month"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2020-01-01"</div><div class='input'><span class='fu'>CEILING_DATE</span><span class='op'>(</span><span class='fu'>AS_DATE</span><span class='op'>(</span><span class='st'>"2020-01-15"</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"month"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2020-02-01"</div><div class='input'><span class='fu'>CEILING_DATE</span><span class='op'>(</span><span class='fu'>AS_DATE</span><span class='op'>(</span><span class='st'>"2020-01-15"</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"month"</span><span class='op'>)</span> <span class='op'>-</span> <span class='fu'><a href='http://lubridate.tidyverse.org/reference/duration.html'>ddays</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span> <span class='co'># EOMONTH using lubridate</span>
</div><div class='output co'>#&gt; [1] "2020-01-31"</div><div class='input'>
<span class='co'># --- Usage with tidyverse ---</span>

<span class='co'># Calculate returns by symbol/year/quarter</span>
<span class='va'>FANG</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='excel_pivot_table.html'>pivot_table</a></span><span class='op'>(</span>
        .rows       <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>symbol</span>, <span class='op'>~</span> <span class='fu'>QUARTER</span><span class='op'>(</span><span class='va'>date</span><span class='op'>)</span><span class='op'>)</span>,
        .columns    <span class='op'>=</span> <span class='op'>~</span> <span class='fu'>YEAR</span><span class='op'>(</span><span class='va'>date</span><span class='op'>)</span>,
        .values     <span class='op'>=</span> <span class='op'>~</span> <span class='fu'><a href='excel_stat_summary_functions.html'>PCT_CHANGE_FIRSTLAST</a></span><span class='op'>(</span><span class='va'>adjusted</span><span class='op'>)</span>
    <span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 16 x 6</span><span>
#&gt;    symbol `QUARTER(date)`  `2013`   `2014`  `2015`    `2016`
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>            </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> AMZN                 1  0.035</span><span style='text-decoration: underline;'>7</span><span> -</span><span style='color: #BB0000;'>0.155</span><span>    0.206  -</span><span style='color: #BB0000;'>0.068</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> AMZN                 2  0.061</span><span style='text-decoration: underline;'>5</span><span> -</span><span style='color: #BB0000;'>0.053</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span>   0.172   0.196   
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> AMZN                 3  0.108  -</span><span style='color: #BB0000;'>0.029</span><span style='color: #BB0000;text-decoration: underline;'>9</span><span>   0.170   0.154   
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> AMZN                 4  0.243  -</span><span style='color: #BB0000;'>0.022</span><span style='color: #BB0000;text-decoration: underline;'>4</span><span>   0.298  -</span><span style='color: #BB0000;'>0.104</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> FB                   1 -</span><span style='color: #BB0000;'>0.086</span><span style='color: #BB0000;text-decoration: underline;'>4</span><span>  0.101    0.048</span><span style='text-decoration: underline;'>1</span><span>  0.116   
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> FB                   2 -</span><span style='color: #BB0000;'>0.025</span><span style='color: #BB0000;text-decoration: underline;'>5</span><span>  0.074</span><span style='text-decoration: underline;'>6</span><span>   0.050</span><span style='text-decoration: underline;'>2</span><span> -</span><span style='color: #BB0000;'>0.015</span><span style='color: #BB0000;text-decoration: underline;'>3</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> FB                   3  1.02    0.161    0.034</span><span style='text-decoration: underline;'>4</span><span>  0.123   
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> FB                   4  0.083</span><span style='text-decoration: underline;'>9</span><span>  0.019</span><span style='text-decoration: underline;'>2</span><span>   0.151  -</span><span style='color: #BB0000;'>0.107</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> GOOG                 1  0.098</span><span style='text-decoration: underline;'>1</span><span>  0.001</span><span style='text-decoration: underline;'>74</span><span>  0.044</span><span style='text-decoration: underline;'>2</span><span>  0.004</span><span style='text-decoration: underline;'>19</span><span> 
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> GOOG                 2  0.098</span><span style='text-decoration: underline;'>8</span><span>  0.014</span><span style='text-decoration: underline;'>3</span><span>  -</span><span style='color: #BB0000;'>0.040</span><span style='color: #BB0000;text-decoration: underline;'>6</span><span> -</span><span style='color: #BB0000;'>0.077</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span>  
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> GOOG                 3 -</span><span style='color: #BB0000;'>0.013</span><span style='color: #BB0000;text-decoration: underline;'>5</span><span> -</span><span style='color: #BB0000;'>0.009</span><span style='color: #BB0000;text-decoration: underline;'>11</span><span>  0.166   0.112   
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> GOOG                 4  0.263  -</span><span style='color: #BB0000;'>0.073</span><span style='color: #BB0000;text-decoration: underline;'>7</span><span>   0.241  -</span><span style='color: #BB0000;'>0.000</span><span style='color: #BB0000;text-decoration: underline;'>958</span><span>
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> NFLX                 1  1.06   -</span><span style='color: #BB0000;'>0.029</span><span style='color: #BB0000;text-decoration: underline;'>7</span><span>   0.194  -</span><span style='color: #BB0000;'>0.070</span><span style='color: #BB0000;text-decoration: underline;'>3</span><span>  
#&gt; </span><span style='color: #BCBCBC;'>14</span><span> NFLX                 2  0.157   0.208    0.590  -</span><span style='color: #BB0000;'>0.135</span><span>   
#&gt; </span><span style='color: #BCBCBC;'>15</span><span> NFLX                 3  0.379  -</span><span style='color: #BB0000;'>0.046</span><span style='color: #BB0000;text-decoration: underline;'>3</span><span>   0.103   0.019</span><span style='text-decoration: underline;'>4</span><span>  
#&gt; </span><span style='color: #BCBCBC;'>16</span><span> NFLX                 4  0.134  -</span><span style='color: #BB0000;'>0.221</span><span>    0.079</span><span style='text-decoration: underline;'>3</span><span>  0.206   </div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matt Dancho, Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


